<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
</head>
<body>
<canvas id="gameCanvas" width="800" height="600"></canvas>

<script src="AudioEngine.js"></script>
<script src="MusicClasses.js"></script>
<script src="SFXClasses.js"></script>
<script>
  var canvas, canvasContext;
  var track1 = new musicTrack("../Audio/Layer1");
  var track2 = new musicTrack("../Audio/Layer2");
  var backgroundMusic = new musicLoopSingle(track1);

  track1.setTrackName("track1");
  track2.setTrackName("track2");
  
  function mouseupHandler() {
    backgroundMusic.startOrStop();
  }

  function keyPressed(evt) {
    if(backgroundMusic.getTrackName() == "track1") {
      backgroundMusic.loadTrack(track2);
    } else {
      backgroundMusic.loadTrack(track1);
    }

    
    evt.preventDefault(); // without this, arrow keys scroll the browser!
  }
  
  window.onload = function() {
    canvas = document.getElementById('gameCanvas');
    canvasContext = canvas.getContext('2d');
    canvas = document.getElementById('gameCanvas');
    canvas.addEventListener('mouseup',mouseupHandler);
    document.addEventListener("keydown",keyPressed);
    canvasContext.fillRect(0, 0, canvas.width, canvas.height);

    backgroundMusic.play();
    
  }
</script>

</body>
</html>