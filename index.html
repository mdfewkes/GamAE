<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
</head>
<body>
<button id="B_Play">Play</button>
<button id="B_Pause">Pause</button>
<button id="B_Stop">Stop</button>
<button id="B_Track1">Track 1</button>
<button id="B_Track2">Track 2</button>
<button id="B_Track3">Track 3</button>
<P>Volume<input type="range" min="0" max="100" value="75" class="slider" id="S_Volume"><P/>
<P><button id="B_Layer1In">Layer 1 In</button>
<button id="B_Layer2In">Layer 2 In</button>
<button id="B_Layer3In">Layer 3 In</button><P/>
<P><button id="B_Layer1Out">Layer 1 Out</button>
<button id="B_Layer2Out">Layer 2 Out</button>
<button id="B_Layer3Out">Layer 3 Out</button><P/>


<script src="AudioClasses.js"></script>
<script src="AudioManager.js"></script>
<script>
	var playButton = document.getElementById("B_Play");
	var pauseButton = document.getElementById("B_Pause");
	var stopButton = document.getElementById("B_Stop");
	var track1Button = document.getElementById("B_Track1");
	var track2Button = document.getElementById("B_Track2");
	var track3Button = document.getElementById("B_Track3");
	var volumeSlider = document.getElementById("S_Volume");

	var layer1ButtonIn = document.getElementById("B_Layer1In");
	var layer2ButtonIn = document.getElementById("B_Layer2In");
	var layer3ButtonIn = document.getElementById("B_Layer3In");
	var layer1ButtonOut = document.getElementById("B_Layer1Out");
	var layer2ButtonOut = document.getElementById("B_Layer2Out");
	var layer3ButtonOut = document.getElementById("B_Layer3Out");
	
	playButton.addEventListener('click', function(){backgroundMusic.resume();
													backgroundPerc.resume();});
	pauseButton.addEventListener('click', function(){backgroundMusic.pause();
													backgroundPerc.pause();});
	stopButton.addEventListener('click', function(){backgroundMusic.stop();
													backgroundPerc.stop();});

	track1Button.addEventListener('click', function(){
		if (backgroundMusic.getTrackName() != "track1") {backgroundMusic.switchTo(0, 0.5);}
	});
	track2Button.addEventListener('click', function(){
		if (backgroundMusic.getTrackName() != "track2") {backgroundMusic.switchTo(1, 0.25);}
	});
	track3Button.addEventListener('click', function(){
		if (backgroundMusic.getTrackName() != "track3") {backgroundMusic.switchTo(2);}
	});

	volumeSlider.oninput = function(){MusicVolumeManager.setVolume(this.value/100);}

	layer1ButtonIn.addEventListener('click', function(){
		backgroundPerc.setLayerLevel(0, 1, 3);
	});
	layer2ButtonIn.addEventListener('click', function(){
		backgroundPerc.setLayerLevel(1, 1, 3);
	});
	layer3ButtonIn.addEventListener('click', function(){
		backgroundPerc.setLayerLevel(2, 1, 3);
	});
	layer1ButtonOut.addEventListener('click', function(){
		backgroundPerc.setLayerLevel(0, 0, 3);
	});
	layer2ButtonOut.addEventListener('click', function(){
		backgroundPerc.setLayerLevel(1, 0, 3);
	});
	layer3ButtonOut.addEventListener('click', function(){
		backgroundPerc.setLayerLevel(2, 0, 3);
	});
	
	window.onload = function() {

		MusicVolumeManager.setVolume(0.75);

		setInterval(function(){AudioEventManager.updateEvents();}, 33.3);
	
	}


</script>

</body>
</html>